<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>EncuÃ©ntralo</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
  background: black;
  transition: background 0.2s;
  touch-action: manipulation;
  -webkit-user-select: none;
  user-select: none;
}

/* MENSAJE PRINCIPAL DVD */
#alerta {
  position: absolute;
  padding: 20px 40px;
  color: #fff;
  font-size: 28px;
  letter-spacing: 6px;
  text-transform: uppercase;
  font-family: 'Orbitron', monospace;
  border: 3px solid #ffe600;
  box-shadow:
    0 0 10px #ffe600,
    0 0 25px rgba(255,230,0,0.8);
  background: rgba(0,0,0,0.6);
  animation: brillo 1.5s infinite;
}

/* PISTA */
#pista {
  position: absolute;
  top: 50%;
  color: rgba(255,255,255,0.15);
  font-size: 12px;
  letter-spacing: 4px;
  font-family: monospace;
  animation: parpadeo 0.15s infinite;
}

/* RECOMPENSA */
#recompensa {
  display: none;
  flex-direction: column;
  align-items: center;
  text-align: center;
  color: white;
}

button {
  margin-top: 20px;
  padding: 12px 30px;
  font-size: 16px;
  font-family: 'Orbitron', monospace;
  cursor: pointer;
  border: 2px solid #ffe600;
  background: black;
  color: white;
  box-shadow: 0 0 15px #ffe600;
}

/* ANIMACIONES */
@keyframes brillo {
  0% { box-shadow: 0 0 5px #ffe600; }
  50% { box-shadow: 0 0 30px #ffe600; }
  100% { box-shadow: 0 0 5px #ffe600; }
}

@keyframes parpadeo {
  0% { opacity: 0; }
  50% { opacity: 1; }
  100% { opacity: 0; }
}
</style>
</head>

<body>

<div id="alerta">ENCUÃ‰NTRALO</div>
<div id="pista">UNO NO CAMBIA</div>

<div id="recompensa">
  <h1>ðŸ”‘ Has encontrado la llave</h1>
  <button onclick="mostrarCapibara()">Abrir</button>
</div>

<script>
/* ===============================
   CONFIGURACIÃ“N
================================ */
let juegoActivo = true;
let intervalo;

/* ===============================
   FONDO OPTIMIZADO (PC + MÃ“VIL)
================================ */
function iniciarJuego() {
  intervalo = setInterval(() => {
    if (!juegoActivo) return;

    let r = Math.random();

    // Verde estable (mÃ¡s tiempo)
    if (r < 0.35) {
      document.body.style.background = "#00ff00";
    } else {
      const otros = ["#ff00ff", "#00ffff", "#ff0000", "#ffff00"];
      document.body.style.background =
        otros[Math.floor(Math.random() * otros.length)];
    }
  }, 230);
}

/* ===============================
   DETECCIÃ“N DE TOQUE / CLICK
================================ */
function detectarInteraccion(e) {
  e.preventDefault();
  if (!juegoActivo) return;

  let bg = getComputedStyle(document.body).backgroundColor;

  if (bg.includes("0, 255, 0")) {
    ganar();
  }
}

document.body.addEventListener("click", detectarInteraccion);
document.body.addEventListener("touchstart", detectarInteraccion, { passive: false });

/* ===============================
   GANAR
================================ */
function ganar() {
  juegoActivo = false;
  clearInterval(intervalo);

  document.body.style.background = "black";
  document.getElementById("alerta").style.display = "none";
  document.getElementById("pista").style.display = "none";
  document.getElementById("recompensa").style.display = "flex";
}

/* ===============================
   RECOMPENSA
================================ */
function mostrarCapibara() {
  document.getElementById("recompensa").innerHTML = `
    <h1>ðŸŽ‰ FELICIDADES ðŸŽ‰</h1>
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/Capybara_%28Hydrochoerus_hydrochaeris%29.JPG" width="260">
    <p>Has completado el ritual.</p>
  `;
}

/* ===============================
   MOVIMIENTO DVD
================================ */
const alerta = document.getElementById("alerta");
let x = 60, y = 80;
let dx = 1.8, dy = 1.6;

function moverDVD() {
  if (!juegoActivo) return;

  x += dx;
  y += dy;

  const w = alerta.offsetWidth;
  const h = alerta.offsetHeight;

  if (x + w >= window.innerWidth || x <= 0) dx *= -1;
  if (y + h >= window.innerHeight || y <= 0) dy *= -1;

  alerta.style.left = x + "px";
  alerta.style.top = y + "px";

  requestAnimationFrame(moverDVD);
}

/* ===============================
   INICIO
================================ */
iniciarJuego();
moverDVD();
</script>

</body>
</html>
